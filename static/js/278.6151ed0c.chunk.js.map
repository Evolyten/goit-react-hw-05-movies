{"version":3,"file":"static/js/278.6151ed0c.chunk.js","mappings":"sNAmDA,UA9CoB,WAClB,OAAyBA,EAAAA,EAAAA,UAAS,IAAlC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAqDC,EAAAA,EAAAA,MAA7CC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAAOC,EAAvC,EAAuCA,UACjCC,GAAWC,EAAAA,EAAAA,MACjB,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KAEMC,EAASF,EAAYG,IAAI,UAEzBC,EAAe,SAAAC,GACnBJ,EAAe,CAAEC,OAAQG,EAAK,MAC/B,EAaD,OAXAC,EAAAA,EAAAA,YAAU,WACHJ,IACLK,EAAAA,EAAAA,IAA+BhB,EAASW,EACzC,GAAE,CAACA,KAEJI,EAAAA,EAAAA,YAAU,WACJV,EAAUY,oBACZb,EAAM,CAAEc,KAAM,IAEjB,GAAE,CAACb,EAAWD,KAGb,iCACE,kBAAMe,SAAUhB,EAAaU,GAA7B,WACE,kBAAOO,KAAK,YAEZ,0BACEC,SAAU,SAAAC,GAAC,OAAIT,EAAaS,EAAEC,OAAOT,MAA1B,GACPZ,EAAS,OAAQ,CAAEsB,UAAU,UAGrC,wBACGzB,EAAM0B,KAAI,SAAAC,GAAW,OACpB,yBACE,SAAC,KAAD,CAASC,GAAE,UAAKD,EAAYE,IAAMC,MAAO,CAAEC,KAAMxB,GAAjD,SACGoB,EAAYK,SAFRL,EAAYE,GADD,QAU7B,C","sources":["pages/Movies/Movies.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { NavLink, useSearchParams, useLocation } from 'react-router-dom';\nimport { fetchMoviesByNameAndAddToState } from 'components/services/fetchApi';\n\nconst MovieSearch = () => {\n  const [films, setFils] = useState([]);\n  const { register, handleSubmit, reset, formState } = useForm();\n  const location = useLocation();\n  const [searchParam, setSearchParam] = useSearchParams();\n\n  const filter = searchParam.get('filter');\n\n  const changeFilter = value => {\n    setSearchParam({ filter: value['name'] });\n  };\n\n  useEffect(() => {\n    if (!filter) return;\n    fetchMoviesByNameAndAddToState(setFils, filter);\n  }, [filter]);\n\n  useEffect(() => {\n    if (formState.isSubmitSuccessful) {\n      reset({ name: '' });\n    }\n  }, [formState, reset]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit(changeFilter)}>\n        <input type=\"submit\" />\n\n        <input\n          onChange={e => changeFilter(e.target.value)}\n          {...register('name', { required: true })}\n        />\n      </form>\n      <ul>\n        {films.map(requestFilm => (\n          <li key={requestFilm.id}>\n            <NavLink to={`${requestFilm.id}`} state={{ from: location }}>\n              {requestFilm.title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default MovieSearch;\n"],"names":["useState","films","setFils","useForm","register","handleSubmit","reset","formState","location","useLocation","useSearchParams","searchParam","setSearchParam","filter","get","changeFilter","value","useEffect","fetchMoviesByNameAndAddToState","isSubmitSuccessful","name","onSubmit","type","onChange","e","target","required","map","requestFilm","to","id","state","from","title"],"sourceRoot":""}